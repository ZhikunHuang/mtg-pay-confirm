{"version":3,"sources":["webpack:///./src/App.vue?e41c","webpack:///./src/App.vue","webpack:///./src/utils/pdf2json.js","webpack:///src/App.vue","webpack:///src/pages/PayConfirm.vue","webpack:///./src/pages/PayConfirm.vue?0192","webpack:///./src/pages/PayConfirm.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","_ref","src_App","__webpack_require__","normalizeComponent","name","ssrContext","pdf2json_pdf2json","asyncToGenerator_default","regenerator_default","a","mark","_callee5","files","_ref2","execute","convertPdfToJson","_callee3","file","dealPdfData","wrap","_context3","prev","next","pageTexts","data","reduce","current","concat","map","item","extends_default","x","transform","y","hasEOL","filter","width","rows","row","MID","SID","SchoolName","Count","Fee","forEach","index","value","str","trim","push","replace","Number","length","sort","b","promise_default","resolve","reject","_ref3","pdfjsLib","getDocument","url","password","pwd","promise","then","_callee2","pdf","promises","_context2","from_default","numPages","_","i","getPage","_ref4","_callee","page","text","startIndex","_context","getTextContent","sent","items","findIndex","abrupt","stop","_x4","apply","arguments","all","_x3","_x2","_context5","_ref5","_callee4","dataList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context4","undefined","get_iterator_default","done","t0","return","finish","_x5","Error","_x","deepClone","arr","PayConfirm","fileList","created","methods","submitUpload","some","isShowError","pdf2json","handleRemove","handlePreview","handleUpload","e","URL","createObjectURL","console","log","pages_PayConfirm","_vm","staticClass","ref","action","on-preview","on-remove","limit","accept","file-list","http-request","auto-upload","scopedSlots","_u","key","fn","_v","title","_s","directives","rawName","expression","staticStyle","margin-top","margin-left","padding","height","size","placeholder","model","callback","$$v","$set","type","slot","on","click","src_pages_PayConfirm","PayConfirm_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","lib_tag_default","lib_upload_default","lib_button_default","lib_input_default","el","components","App","template"],"mappings":"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","file":"static/js/app.3064d0c315d5f2d8c67a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76b18ec1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76b18ec1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76b18ec1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","\r\nexport async function pdf2json(files) {\r\n\r\n  async function convertPdfToJson(file) {\r\n    function dealPdfData(pageTexts) {\r\n      var data = pageTexts.reduce((prev, current) => {\r\n        return prev.concat(current);\r\n      }, []).map(function (item) {\r\n        return {\r\n          x: item.transform[5],\r\n          y: item.transform[4],\r\n          hasEOL: item.hasEOL,\r\n          ...item,\r\n        }\r\n      }).filter(item => item.width > 0 && item.x < 465);\r\n      var rows = [];\r\n      var row = {\r\n        MID: \"\",\r\n        SID: \"\",\r\n        SchoolName: \"\",\r\n        Count: 0,\r\n        Fee: 0\r\n      };\r\n      data.forEach((item, index) => {\r\n        var value = item.str.trim();\r\n        var x = item.x;\r\n        if (x == 21) {\r\n          if (row.MID != \"\" && row.SID != \"\") {\r\n            rows.push(row);\r\n            row = {\r\n              MID: \"\",\r\n              SID: \"\",\r\n              SchoolName: \"\",\r\n              Count: 0,\r\n              Fee: 0,\r\n            };\r\n          }\r\n          row.MID = value;\r\n        }\r\n        else if (x == 51) {\r\n          row.SID = value;\r\n        }\r\n        else if (x < 410 && x > 380) {\r\n          value = value.replace(/,/g, \"\");\r\n          value = Number(value);\r\n          if (row.Count == 0) {\r\n            row.Count = value;\r\n          }\r\n          else {\r\n            row.Count += value;\r\n          }\r\n        }\r\n        else if (x < 465 && x > 440) {\r\n          value = value.replace(/,|¥/g, \"\");\r\n          value = Number(value);\r\n          if (row.Fee == 0) {\r\n            row.Fee = value;\r\n          }\r\n          else {\r\n            row.Fee += value;\r\n          }\r\n        }\r\n        else if (x == 151) {\r\n          row.SchoolName = value;\r\n        }\r\n        if (index == data.length - 1) {\r\n          rows.push(row);\r\n        }\r\n      });\r\n      return rows.sort(function (a, b) {\r\n        if (a.MID != b.MID) {\r\n          return a.MID - b.MID;\r\n        }\r\n        return a.SID - b.SID;\r\n      });\r\n    }\r\n    return await new Promise((resolve, reject) => {\r\n      // 使用 PDF.js 进行解析\r\n      pdfjsLib.getDocument({ url: file.url, password: file.pwd }).promise.then(async function (pdf) {\r\n        // 通过循环获取每一页的文本\r\n        const promises = Array.from({ length: pdf.numPages }, (_, i) => {\r\n          return pdf.getPage(i + 1).then(async function (page) {\r\n            var text = await page.getTextContent();\r\n            var startIndex = text.items.findIndex(item => item.str === '取扱金額');\r\n            return text.items.filter((item, index) => index > startIndex);\r\n          });\r\n        });\r\n\r\n        // 处理所有页面的文本\r\n        var pageTexts = await Promise.all(promises)\r\n        var data = dealPdfData(pageTexts) || [];\r\n        resolve(data);\r\n      });\r\n    });\r\n  }\r\n\r\n  var execute = async function (files) {\r\n\r\n    let dataList = [];\r\n    for (const item of files) {\r\n      var data = await convertPdfToJson(item);\r\n      dataList = dataList.concat(data);\r\n    }\r\n    return dataList;\r\n  }\r\n  if (files && files.length > 0) {\r\n    return await execute(files);\r\n  } else {\r\n    throw new Error('files is empty');\r\n  }\r\n};\r\n\r\nexport function deepClone(arr) {\r\n\r\n  return arr.map(function (item) {\r\n    return {\r\n      ...item\r\n    };\r\n  });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pdf2json.js","<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <div class=\"pay-confirm\">\r\n    <el-upload class=\"upload-demo\" ref=\"upload\" action=\"\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\" :limit=\"2\"\r\n      accept=\".pdf\" :file-list=\"fileList\" :http-request=\"handleUpload\" :auto-upload=\"true\">\r\n      <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\r\n      <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">数据对比</el-button>\r\n\r\n      <div slot=\"file\" slot-scope=\"{file}\">\r\n        <div class=\"file-name\">\r\n          <div>\r\n            <label>文件名：</label><el-tag :title=\"file.name\"> {{ file.name }} </el-tag>\r\n          </div>\r\n          <el-tag style=\"margin-top: 5px; margin-left: 70px;width: fit-content;padding: 0;height: 0;\"\r\n            v-show=\"file.isShowError\"></el-tag>\r\n        </div>\r\n        <div class=\"pwd\">\r\n          <div>\r\n            <label>文件密码：</label><el-input size=\"small\" v-model=\"file.pwd\" placeholder=\"没有不填\"></el-input>\r\n          </div>\r\n          <el-tag type=\"danger\" size=\"mini\" style=\"margin-top: 5px; margin-left: 70px;width: fit-content;\"\r\n            v-show=\"file.isShowError\">请输入密码</el-tag>\r\n        </div>\r\n      </div>\r\n    </el-upload>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { pdf2json, deepClone } from '@/utils/pdf2json.js'\r\nexport default {\r\n  name: 'PayConfirm',\r\n  data() {\r\n    return {\r\n      fileList: []\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    submitUpload() {\r\n      if (this.fileList) {\r\n \r\n        var isAnyNoPwd = this.fileList.some(item => !item.pwd);\r\n        if (!isAnyNoPwd) {\r\n          this.pdf2json()\r\n        } else {\r\n          this.fileList = deepClone(this.fileList.map(item => {\r\n            return {\r\n              isShowError: !item.pwd,\r\n              ...item\r\n            }\r\n          }));\r\n        }\r\n      }\r\n      return;\r\n    },\r\n    handleRemove() { },\r\n    handlePreview() { },\r\n    handleUpload(e) {\r\n      var file = e.file;\r\n      var url = URL.createObjectURL(file);\r\n      var hasUploaded = this.fileList.some((item) => item.name === file.name)\r\n      if (!hasUploaded) {\r\n\r\n        this.fileList.push({\r\n          url: url,\r\n          pwd: \"\",\r\n          name: file.name\r\n        })\r\n      }\r\n      \r\n      this.fileList = deepClone(this.fileList.map(item => {\r\n            return {\r\n              isShowError: !item.pwd,\r\n              ...item\r\n            }\r\n          }));\r\n    },\r\n    pdf2json: async function () {\r\n      var data = await pdf2json(deepClone(this.fileList));\r\n      console.log(data);\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nlabel {\r\n  display: inline-block;\r\n}\r\n\r\n.pay-confirm {\r\n  width: 600PX;\r\n  margin: 0 auto;\r\n}\r\n\r\n.upload-demo {\r\n  text-align: left;\r\n}\r\n\r\n.file-name {\r\n  display: flex;\r\n}\r\n\r\n.file-name>div {\r\n\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.file-name>div,\r\n.file-name>span {\r\n  flex: 1;\r\n}\r\n\r\n.el-upload-list li>div {\r\n  display: flex;\r\n  align-items: flex-start;\r\n}\r\n\r\n.el-upload-list li>div>div {\r\n  display: inline-flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n}\r\n\r\n.el-upload-list .el-input {\r\n  width: 150px;\r\n}\r\n\r\n.el-upload-list .el-tag {\r\n  display: inline-block;\r\n  width: 200PX;\r\n  margin-right: 15px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/PayConfirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pay-confirm\"},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"limit\":2,\"accept\":\".pdf\",\"file-list\":_vm.fileList,\"http-request\":_vm.handleUpload,\"auto-upload\":true},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\nvar file = ref.file;\nreturn _c('div',{},[_c('div',{staticClass:\"file-name\"},[_c('div',[_c('label',[_vm._v(\"文件名：\")]),_c('el-tag',{attrs:{\"title\":file.name}},[_vm._v(\" \"+_vm._s(file.name)+\" \")])],1),_vm._v(\" \"),_c('el-tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(file.isShowError),expression:\"file.isShowError\"}],staticStyle:{\"margin-top\":\"5px\",\"margin-left\":\"70px\",\"width\":\"fit-content\",\"padding\":\"0\",\"height\":\"0\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pwd\"},[_c('div',[_c('label',[_vm._v(\"文件密码：\")]),_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"没有不填\"},model:{value:(file.pwd),callback:function ($$v) {_vm.$set(file, \"pwd\", $$v)},expression:\"file.pwd\"}})],1),_vm._v(\" \"),_c('el-tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(file.isShowError),expression:\"file.isShowError\"}],staticStyle:{\"margin-top\":\"5px\",\"margin-left\":\"70px\",\"width\":\"fit-content\"},attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"请输入密码\")])],1)])}}])},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"数据对比\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-499b037a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/PayConfirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-499b037a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PayConfirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PayConfirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PayConfirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-499b037a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PayConfirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-499b037a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/PayConfirm.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport PayConfirm from '@/pages/PayConfirm'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'PayConfirm',\r\n      component: PayConfirm\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\nimport {Tag, Upload, Button, Input} from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.component(Tag.name, Tag);\r\nVue.component(Upload.name, Upload);\r\nVue.component(Button.name, Button);\r\nVue.component(Input.name, Input);\r\n\r\n// Vue.use(ElementUI);\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}